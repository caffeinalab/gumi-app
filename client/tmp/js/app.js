!function t(n,e,r){function i(a,u){if(!e[a]){if(!n[a]){var l="function"==typeof require&&require;if(!u&&l)return l(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=e[a]={exports:{}};n[a][0].call(c.exports,function(t){var e=n[a][1][t];return i(e||t)},c,c.exports,t,n,e,r)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,e){"use strict";window._=window.underscore=t("underscore"),window.TWEEN=t("@tweenjs/tween.js");var r=t("./components/raf"),i=t("./router.js"),o=t("./views"),a=window.Utils=t("./utils.js");window.App={Views:o,Router:i,Raf:r,pageVisibility:!0,init:function(){App.Raf.start(),currentWindow.custom.theme&&document.body.setAttribute("data-state",currentWindow.custom.theme),this.instance=App.Views.Wrapper,App.Router.init(),this.addEventListeners()},addEventListeners:function(){var t=a.getHiddenProp();if(t){var n=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,this.onChangePageVisibility,!1)}window.addEventListener("resize",this.onResize),ipcRenderer.on("changeTheme",App.changeTheme),this.onResize()},changeTheme:function(t,n){document.body.setAttribute("data-state",n)},onChangePageVisibility:function(){App.pageVisibility=!a.pageIsHidden()},onResize:function(){App.w_w=window.innerWidth,App.w_h=window.innerHeight}},window.App.init()},{"./components/raf":2,"./router.js":3,"./utils.js":4,"./views":6,"@tweenjs/tween.js":11,underscore:13}],2:[function(t,n,e){"use strict";function r(t){!function(t){if(App.clock=t,TWEEN.update(App.clock),o.length>0)for(var n=o.length-1;n>=0;n--)null!=o[n]&&o[n]()}(t),i=requestAnimationFrame(r)}t("../vendor/raf-polyfill");var i="",o=[];n.exports={start:function(){r()},stop:function(){cancelAnimationFrame(i)},add:function(t){return o.push(t),o.length-1},remove:function(t){o[t]=null}}},{"../vendor/raf-polyfill":5}],3:[function(t,n,e){"use strict";function r(t){if(t!=i)switch(i=t){case"profile-list":!function(){var t=new App.Views.ProfileList;App.instance.goto(t)}();break;case"profile-form":!function(){var t=new App.Views.ProfileForm;App.instance.goto(t)}()}}var i=void 0;n.exports={init:function(){r(currentWindow.custom.currentState)},navigate:r}},{}],4:[function(t,n,e){"use strict";window.performance=window.performance||{offset:Date.now(),now:function(){return Date.now()-this.offset}},String.prototype.trim||function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(t,"")}}(),n.exports=new function(){function t(){if(null==n){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return n=t[e]+"Hidden";return null}return n}var n=null,e=null,r=null;return{getHiddenProp:t,pageIsHidden:function(){var n=t();return!!n&&document[n]},setTransformStyle:function(t,n){t.style.webkitTransform=n,t.style.MozTransform=n,t.style.msTransform=n,t.style.OTransform=n,t.style.transform=n},millisToMinutesAndSeconds:function(t){var n=Math.floor(t/6e4),e=(t%6e4/1e3).toFixed(0),r=(t%6e4/1e3%1*100).toFixed(0);return 0==r&&(r=1),(n<10?"0":"")+n+":"+(e<10?"0":"")+e+":"+(r<10?"0":"")+r},detectTransitionEndEvent:function(){if(e)return e;var t,n=document.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(void 0!==n.style[t])return e=r[t],r[t]},detectAnimationEndEvent:function(){if(r)return r;var t,n=document.createElement("fakeelement"),e={transition:"animationend",OTransition:"oanimationend",MsTransition:"MSAnimationEnd",WebkitTransition:"webkitAnimationEnd"};for(t in e)if(void 0!==n.style[t])return r=e[t],e[t]}}}},{}],5:[function(t,n,e){"use strict";!function(){for(var t=0,n=["ms","moz","webkit","o"],e=0;e<n.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[n[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[e]+"CancelAnimationFrame"]||window[n[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,e){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=window.setTimeout(function(){n(r+i)},i);return t=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],6:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=r(t("./wrapper.js")),o=r(t("./pages/profile-list.js")),a=r(t("./pages/profile-form.js"));n.exports={Wrapper:i.default,ProfileList:o.default,ProfileForm:a.default}},{"./pages/profile-form.js":7,"./pages/profile-list.js":8,"./wrapper.js":10}],7:[function(t,n,e){"use strict";function r(t){t.target.parentNode.classList.add("input--filled"),t.target.parentNode.classList.remove("error")}function i(t){""===t.target.value.trim()&&t.target.parentNode.classList.remove("input--filled")}function o(t){13!=t.keyCode||a()}function a(){var t=document.getElementById("label"),n=document.getElementById("username"),e=document.getElementById("email"),r=!1;if(t.parentNode.classList.remove("error"),n.parentNode.classList.remove("error"),e.parentNode.classList.remove("error"),""==t.value&&(t.parentNode.classList.add("error"),r=!0),""==n.value&&(n.parentNode.classList.add("error"),r=!0),""==e.value&&(e.parentNode.classList.add("error"),r=!0),r)return!1;var i={};i[App.currentExtra?App.currentExtra:Date.now()]={label:t.value,username:n.value,email:e.value},ipcRenderer.sendSync("callSyncMethod","insertOrUpdateSetting",i),App.Router.navigate("profile-list")}function u(){ipcRenderer.sendSync("callSyncMethod","removeSetting",App.currentExtra),App.Router.navigate("profile-list")}var l=function(t){return t&&t.__esModule?t:{default:t}}(t("../template"));n.exports=function(){var t=new l.default,n=t.createEl("page user -fullSize");return{el:n,render:function(){var t=_.template(document.getElementById("profile-form-template").innerText),e={title:"add profile",isNew:!0};if(App.currentExtra){var l=ipcRenderer.sendSync("callSyncMethod","getSettings");l[App.currentExtra]&&(e.title="edit profile",e.label=l[App.currentExtra].label,e.username=l[App.currentExtra].username,e.email=l[App.currentExtra].email,e.isNew=!1)}n.innerHTML=t(e),requestAnimationFrame(function(){!function(t){window.addEventListener("keyup",o),t.querySelector("#saveButton").addEventListener("click",a),t.querySelector("#deleteButton")&&t.querySelector("#deleteButton").addEventListener("click",u),[].slice.call(t.querySelectorAll("input.input__field")).forEach(function(t){""!==t.value.trim()&&t.parentNode.classList.add("input--filled"),t.addEventListener("focus",r),t.addEventListener("blur",i)})}(n)})},transitionIn:t.transitionIn,transitionOut:t.transitionOut,remove:function(){window.removeEventListener("keyup",o),App.currentExtra=void 0,t&&(t.stopTween(),t=null),n&&(n.remove(),n=null)}}}},{"../template":9}],8:[function(t,n,e){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(t("../template"));n.exports=function(){var t=new r.default,n=t.createEl("page user -fullSize");return{el:n,render:function(){var t=_.template(document.getElementById("profile-list-template").innerText);n.innerHTML=t({title:"Your profiles",currentProfile:ipcRenderer.sendSync("callSyncMethod","getCurrentUser"),profiles:ipcRenderer.sendSync("callSyncMethod","getSettings")}),requestAnimationFrame(function(){!function(t){[].slice.call(t.querySelectorAll(".singleProfile .select")).forEach(function(n){n.addEventListener("click",function(n){if(n.target.dataset.extra){var e=t.querySelector(".singleProfile.current");e&&e.classList.remove("current"),ipcRenderer.sendSync("callSyncMethod","activateSetting",n.target.dataset.extra),n.target.parentNode.classList.add("current")}})})}(n)})},transitionIn:t.transitionIn,transitionOut:t.transitionOut,remove:function(){t&&(t.stopTween(),t=null),n&&(n.remove(),n=null)}}}},{"../template":9}],9:[function(t,n,e){"use strict";n.exports=function(){function t(t,r,i){var o=e,a={opacity:o.style.opacity||parseFloat(window.getComputedStyle(o,null).opacity)},u={opacity:"out"==t?0:1};n=new TWEEN.Tween(a).to(u,r).onUpdate(function(){o.style.opacity=a.opacity}).onComplete(function(){i(),n=void 0}).start()}var n="",e="";return{createEl:function(t){t=t.split(" "),e=document.createElement("div");for(var n=0;n<t.length;n++)e.classList.add(t[n]);return e},stopTween:function(){n&&(n.stop(),TWEEN.remove(n),n=void 0)},transitionIn:function(n){_.delay(function(){t("in",500,function(){_.isFunction(n)&&_.delay(n,400)})},200)},transitionOut:function(n){t("out",500,function(){_.isFunction(n)&&n()})}}}},{}],10:[function(t,n,e){"use strict";function r(){for(var t=document.getElementById("wrapper").querySelectorAll("._internalLink"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.currentTarget&&t.currentTarget.dataset.state&&App.Router.navigate(t.currentTarget.dataset.state),t.currentTarget&&t.currentTarget.dataset.extra&&(App.currentExtra=t.currentTarget.dataset.extra)})}function i(t,n,e){var r={translate:s.dataset.translate||100},i={translate:"out"==t?-100:0};new TWEEN.Tween(r).to(i,n).onUpdate(function(){s.dataset.translate=r.translate,window.Utils.setTransformStyle(s,"translateX("+r.translate+"%)")}).onComplete(function(){"in"==t?(s.dataset.translate=0,window.Utils.setTransformStyle(s,"translateX(0%)")):(s.dataset.translate=100,window.Utils.setTransformStyle(s,"translateX(100%)")),e(),void 0}).start()}!function(t){t&&t.__esModule}(t("./template"));var o,a=null,u=null,l=null,s=document.getElementById("panelTransition");n.exports={getCurrentPage:function(){return l},goto:function(t){o||(o=document.getElementById("wrapper")),a&&(a.remove(),a=null),u&&(u.remove(),u=null),u=t,(a=l)?i("in",300,function(){a&&(a.remove(),a=null),u&&(u.render(),i("out",200,function(){o.append(u.el),u.transitionIn(),r(),l=u,u=null}))}):(u.render(),o.append(u.el),r(),u.transitionIn(),l=u,u=null)}}},{"./template":9}],11:[function(t,n,e){(function(t){var r=function(){this._tweens={},this._tweensAddedDuringUpdate={}};r.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,n){var e=Object.keys(this._tweens);if(0===e.length)return!1;for(t=void 0!==t?t:i.now();e.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<e.length;r++){var o=this._tweens[e[r]];o&&!1===o.update(t)&&(o._isPlaying=!1,n||delete this._tweens[e[r]])}e=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i=new r;i.Group=r,i._nextId=0,i.nextId=function(){return i._nextId++},"undefined"==typeof window&&void 0!==t?i.now=function(){var n=t.hrtime();return 1e3*n[0]+n[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?i.now=window.performance.now.bind(window.performance):void 0!==Date.now?i.now=Date.now:i.now=function(){return(new Date).getTime()},i.Tween=function(t,n){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=i.Easing.Linear.None,this._interpolationFunction=i.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=n||i,this._id=i.nextId()},i.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,n){return this._valuesEnd=t,void 0!==n&&(this._duration=n),this},start:function(t){this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?i.now()+parseFloat(t):t:i.now(),this._startTime+=this._delayTime;for(var n in this._valuesEnd){if(this._valuesEnd[n]instanceof Array){if(0===this._valuesEnd[n].length)continue;this._valuesEnd[n]=[this._object[n]].concat(this._valuesEnd[n])}void 0!==this._object[n]&&(this._valuesStart[n]=this._object[n],this._valuesStart[n]instanceof Array==!1&&(this._valuesStart[n]*=1),this._valuesStartRepeat[n]=this._valuesStart[n]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop()},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var n,e,r;if(t<this._startTime)return!0;!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),e=(e=(t-this._startTime)/this._duration)>1?1:e,r=this._easingFunction(e);for(n in this._valuesEnd)if(void 0!==this._valuesStart[n]){var i=this._valuesStart[n]||0,o=this._valuesEnd[n];o instanceof Array?this._object[n]=this._interpolationFunction(o,r):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[n]=i+(o-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===e){if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat){if("string"==typeof this._valuesEnd[n]&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo){var a=this._valuesStartRepeat[n];this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=a}this._valuesStart[n]=this._valuesStartRepeat[n]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,l=this._chainedTweens.length;u<l;u++)this._chainedTweens[u].start(this._startTime+this._duration);return!1}return!0}},i.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-i.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Easing.Bounce.In(2*t):.5*i.Easing.Bounce.Out(2*t-1)+.5}}},i.Interpolation={Linear:function(t,n){var e=t.length-1,r=e*n,o=Math.floor(r),a=i.Interpolation.Utils.Linear;return n<0?a(t[0],t[1],r):n>1?a(t[e],t[e-1],e-r):a(t[o],t[o+1>e?e:o+1],r-o)},Bezier:function(t,n){for(var e=0,r=t.length-1,o=Math.pow,a=i.Interpolation.Utils.Bernstein,u=0;u<=r;u++)e+=o(1-n,r-u)*o(n,u)*t[u]*a(r,u);return e},CatmullRom:function(t,n){var e=t.length-1,r=e*n,o=Math.floor(r),a=i.Interpolation.Utils.CatmullRom;return t[0]===t[e]?(n<0&&(o=Math.floor(r=e*(1+n))),a(t[(o-1+e)%e],t[o],t[(o+1)%e],t[(o+2)%e],r-o)):n<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):n>1?t[e]-(a(t[e],t[e],t[e-1],t[e-1],r-e)-t[e]):a(t[o?o-1:0],t[o],t[e<o+1?e:o+1],t[e<o+2?e:o+2],r-o)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=i.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var r=n;r>1;r--)e*=r;return t[n]=e,e}}(),CatmullRom:function(t,n,e,r,i){var o=.5*(e-t),a=.5*(r-n),u=i*i;return(2*n-2*e+o+a)*(i*u)+(-3*n+3*e-2*o-a)*u+o*i+n}}},function(t){"function"==typeof define&&define.amd?define([],function(){return i}):void 0!==n&&"object"==typeof e?n.exports=i:void 0!==t&&(t.TWEEN=i)}(this)}).call(this,t("_process"))},{_process:12}],12:[function(t,n,e){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(n){try{return c.call(null,t,0)}catch(n){return c.call(this,t,0)}}}function a(){v&&h&&(v=!1,h.length?d=h.concat(d):m=-1,d.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var n=d.length;n;){for(h=d,d=[];++m<n;)h&&h[m].run();m=-1,n=d.length}h=null,v=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(n){try{return f.call(null,t)}catch(n){return f.call(this,t)}}}(t)}}function l(t,n){this.fun=t,this.array=n}function s(){}var c,f,p=n.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var h,d=[],v=!1,m=-1;p.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];d.push(new l(t,n)),1!==d.length||v||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(t,n,e){(function(){var t=this,r=t._,i=Array.prototype,o=Object.prototype,a=Function.prototype,u=i.push,l=i.slice,s=i.concat,c=o.toString,f=o.hasOwnProperty,p=Array.isArray,h=Object.keys,d=a.bind,v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==e?(void 0!==n&&n.exports&&(e=n.exports=v),e._=v):t._=v,v.VERSION="1.7.0";var m=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}};v.iteratee=function(t,n,e){return null==t?v.identity:v.isFunction(t)?m(t,n,e):v.isObject(t)?v.matches(t):v.property(t)},v.each=v.forEach=function(t,n,e){if(null==t)return t;n=m(n,e);var r,i=t.length;if(i===+i)for(r=0;r<i;r++)n(t[r],r,t);else{var o=v.keys(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t},v.map=v.collect=function(t,n,e){if(null==t)return[];n=v.iteratee(n,e);for(var r,i=t.length!==+t.length&&v.keys(t),o=(i||t).length,a=Array(o),u=0;u<o;u++)r=i?i[u]:u,a[u]=n(t[r],r,t);return a};var g="Reduce of empty array with no initial value";v.reduce=v.foldl=v.inject=function(t,n,e,r){null==t&&(t=[]),n=m(n,r,4);var i,o=t.length!==+t.length&&v.keys(t),a=(o||t).length,u=0;if(arguments.length<3){if(!a)throw new TypeError(g);e=t[o?o[u++]:u++]}for(;u<a;u++)e=n(e,t[i=o?o[u]:u],i,t);return e},v.reduceRight=v.foldr=function(t,n,e,r){null==t&&(t=[]),n=m(n,r,4);var i,o=t.length!==+t.length&&v.keys(t),a=(o||t).length;if(arguments.length<3){if(!a)throw new TypeError(g);e=t[o?o[--a]:--a]}for(;a--;)e=n(e,t[i=o?o[a]:a],i,t);return e},v.find=v.detect=function(t,n,e){var r;return n=v.iteratee(n,e),v.some(t,function(t,e,i){if(n(t,e,i))return r=t,!0}),r},v.filter=v.select=function(t,n,e){var r=[];return null==t?r:(n=v.iteratee(n,e),v.each(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r)},v.reject=function(t,n,e){return v.filter(t,v.negate(v.iteratee(n)),e)},v.every=v.all=function(t,n,e){if(null==t)return!0;n=v.iteratee(n,e);var r,i,o=t.length!==+t.length&&v.keys(t),a=(o||t).length;for(r=0;r<a;r++)if(i=o?o[r]:r,!n(t[i],i,t))return!1;return!0},v.some=v.any=function(t,n,e){if(null==t)return!1;n=v.iteratee(n,e);var r,i,o=t.length!==+t.length&&v.keys(t),a=(o||t).length;for(r=0;r<a;r++)if(i=o?o[r]:r,n(t[i],i,t))return!0;return!1},v.contains=v.include=function(t,n){return null!=t&&(t.length!==+t.length&&(t=v.values(t)),v.indexOf(t,n)>=0)},v.invoke=function(t,n){var e=l.call(arguments,2),r=v.isFunction(n);return v.map(t,function(t){return(r?n:t[n]).apply(t,e)})},v.pluck=function(t,n){return v.map(t,v.property(n))},v.where=function(t,n){return v.filter(t,v.matches(n))},v.findWhere=function(t,n){return v.find(t,v.matches(n))},v.max=function(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n&&null!=t)for(var u=0,l=(t=t.length===+t.length?t:v.values(t)).length;u<l;u++)(r=t[u])>o&&(o=r);else n=v.iteratee(n,e),v.each(t,function(t,e,r){((i=n(t,e,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},v.min=function(t,n,e){var r,i,o=1/0,a=1/0;if(null==n&&null!=t)for(var u=0,l=(t=t.length===+t.length?t:v.values(t)).length;u<l;u++)(r=t[u])<o&&(o=r);else n=v.iteratee(n,e),v.each(t,function(t,e,r){((i=n(t,e,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},v.shuffle=function(t){for(var n,e=t&&t.length===+t.length?t:v.values(t),r=e.length,i=Array(r),o=0;o<r;o++)(n=v.random(0,o))!==o&&(i[o]=i[n]),i[n]=e[o];return i},v.sample=function(t,n,e){return null==n||e?(t.length!==+t.length&&(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,n))},v.sortBy=function(t,n,e){return n=v.iteratee(n,e),v.pluck(v.map(t,function(t,e,r){return{value:t,index:e,criteria:n(t,e,r)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index}),"value")};var y=function(t){return function(n,e,r){var i={};return e=v.iteratee(e,r),v.each(n,function(r,o){var a=e(r,o,n);t(i,r,a)}),i}};v.groupBy=y(function(t,n,e){v.has(t,e)?t[e].push(n):t[e]=[n]}),v.indexBy=y(function(t,n,e){t[e]=n}),v.countBy=y(function(t,n,e){v.has(t,e)?t[e]++:t[e]=1}),v.sortedIndex=function(t,n,e,r){for(var i=(e=v.iteratee(e,r,1))(n),o=0,a=t.length;o<a;){var u=o+a>>>1;e(t[u])<i?o=u+1:a=u}return o},v.toArray=function(t){return t?v.isArray(t)?l.call(t):t.length===+t.length?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:t.length===+t.length?t.length:v.keys(t).length},v.partition=function(t,n,e){n=v.iteratee(n,e);var r=[],i=[];return v.each(t,function(t,e,o){(n(t,e,o)?r:i).push(t)}),[r,i]},v.first=v.head=v.take=function(t,n,e){if(null!=t)return null==n||e?t[0]:n<0?[]:l.call(t,0,n)},v.initial=function(t,n,e){return l.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},v.last=function(t,n,e){if(null!=t)return null==n||e?t[t.length-1]:l.call(t,Math.max(t.length-n,0))},v.rest=v.tail=v.drop=function(t,n,e){return l.call(t,null==n||e?1:n)},v.compact=function(t){return v.filter(t,v.identity)};var w=function(t,n,e,r){if(n&&v.every(t,v.isArray))return s.apply(r,t);for(var i=0,o=t.length;i<o;i++){var a=t[i];v.isArray(a)||v.isArguments(a)?n?u.apply(r,a):w(a,n,e,r):e||r.push(a)}return r};v.flatten=function(t,n){return w(t,n,!1,[])},v.without=function(t){return v.difference(t,l.call(arguments,1))},v.uniq=v.unique=function(t,n,e,r){if(null==t)return[];v.isBoolean(n)||(r=e,e=n,n=!1),null!=e&&(e=v.iteratee(e,r));for(var i=[],o=[],a=0,u=t.length;a<u;a++){var l=t[a];if(n)a&&o===l||i.push(l),o=l;else if(e){var s=e(l,a,t);v.indexOf(o,s)<0&&(o.push(s),i.push(l))}else v.indexOf(i,l)<0&&i.push(l)}return i},v.union=function(){return v.uniq(w(arguments,!0,!0,[]))},v.intersection=function(t){if(null==t)return[];for(var n=[],e=arguments.length,r=0,i=t.length;r<i;r++){var o=t[r];if(!v.contains(n,o)){for(var a=1;a<e&&v.contains(arguments[a],o);a++);a===e&&n.push(o)}}return n},v.difference=function(t){var n=w(l.call(arguments,1),!0,!0,[]);return v.filter(t,function(t){return!v.contains(n,t)})},v.zip=function(t){if(null==t)return[];for(var n=v.max(arguments,"length").length,e=Array(n),r=0;r<n;r++)e[r]=v.pluck(arguments,r);return e},v.object=function(t,n){if(null==t)return{};for(var e={},r=0,i=t.length;r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},v.indexOf=function(t,n,e){if(null==t)return-1;var r=0,i=t.length;if(e){if("number"!=typeof e)return r=v.sortedIndex(t,n),t[r]===n?r:-1;r=e<0?Math.max(0,i+e):e}for(;r<i;r++)if(t[r]===n)return r;return-1},v.lastIndexOf=function(t,n,e){if(null==t)return-1;var r=t.length;for("number"==typeof e&&(r=e<0?r+e+1:Math.min(r,e+1));--r>=0;)if(t[r]===n)return r;return-1},v.range=function(t,n,e){arguments.length<=1&&(n=t||0,t=0),e=e||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i};var _=function(){};v.bind=function(t,n){var e,r;if(d&&t.bind===d)return d.apply(t,l.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");return e=l.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(n,e.concat(l.call(arguments)));_.prototype=t.prototype;var i=new _;_.prototype=null;var o=t.apply(i,e.concat(l.call(arguments)));return v.isObject(o)?o:i}},v.partial=function(t){var n=l.call(arguments,1);return function(){for(var e=0,r=n.slice(),i=0,o=r.length;i<o;i++)r[i]===v&&(r[i]=arguments[e++]);for(;e<arguments.length;)r.push(arguments[e++]);return t.apply(this,r)}},v.bindAll=function(t){var n,e,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(n=1;n<r;n++)t[e=arguments[n]]=v.bind(t[e],t);return t},v.memoize=function(t,n){var e=function(r){var i=e.cache,o=n?n.apply(this,arguments):r;return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},v.delay=function(t,n){var e=l.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},v.defer=function(t){return v.delay.apply(v,[t,1].concat(l.call(arguments,1)))},v.throttle=function(t,n,e){var r,i,o,a=null,u=0;e||(e={});var l=function(){u=!1===e.leading?0:v.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var s=v.now();u||!1!==e.leading||(u=s);var c=n-(s-u);return r=this,i=arguments,c<=0||c>n?(clearTimeout(a),a=null,u=s,o=t.apply(r,i),a||(r=i=null)):a||!1===e.trailing||(a=setTimeout(l,c)),o}},v.debounce=function(t,n,e){var r,i,o,a,u,l=function(){var s=v.now()-a;s<n&&s>0?r=setTimeout(l,n-s):(r=null,e||(u=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=v.now();var s=e&&!r;return r||(r=setTimeout(l,n)),s&&(u=t.apply(o,i),o=i=null),u}},v.wrap=function(t,n){return v.partial(n,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},v.after=function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},v.before=function(t,n){var e;return function(){return--t>0?e=n.apply(this,arguments):n=null,e}},v.once=v.partial(v.before,2),v.keys=function(t){if(!v.isObject(t))return[];if(h)return h(t);var n=[];for(var e in t)v.has(t,e)&&n.push(e);return n},v.values=function(t){for(var n=v.keys(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r},v.pairs=function(t){for(var n=v.keys(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r},v.invert=function(t){for(var n={},e=v.keys(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n},v.functions=v.methods=function(t){var n=[];for(var e in t)v.isFunction(t[e])&&n.push(e);return n.sort()},v.extend=function(t){if(!v.isObject(t))return t;for(var n,e,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(e in n)f.call(n,e)&&(t[e]=n[e])}return t},v.pick=function(t,n,e){var r,i={};if(null==t)return i;if(v.isFunction(n)){n=m(n,e);for(r in t){var o=t[r];n(o,r,t)&&(i[r]=o)}}else{var a=s.apply([],l.call(arguments,1));t=new Object(t);for(var u=0,c=a.length;u<c;u++)(r=a[u])in t&&(i[r]=t[r])}return i},v.omit=function(t,n,e){if(v.isFunction(n))n=v.negate(n);else{var r=v.map(s.apply([],l.call(arguments,1)),String);n=function(t,n){return!v.contains(r,n)}}return v.pick(t,n,e)},v.defaults=function(t){if(!v.isObject(t))return t;for(var n=1,e=arguments.length;n<e;n++){var r=arguments[n];for(var i in r)void 0===t[i]&&(t[i]=r[i])}return t},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,n){return n(t),t};var b=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof v&&(t=t._wrapped),n instanceof v&&(n=n._wrapped);var i=c.call(t);if(i!==c.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=e.length;o--;)if(e[o]===t)return r[o]===n;var a=t.constructor,u=n.constructor;if(a!==u&&"constructor"in t&&"constructor"in n&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(u)&&u instanceof u))return!1;e.push(t),r.push(n);var l,s;if("[object Array]"===i){if(l=t.length,s=l===n.length)for(;l--&&(s=b(t[l],n[l],e,r)););}else{var f,p=v.keys(t);if(l=p.length,s=v.keys(n).length===l)for(;l--&&(f=p[l],s=v.has(n,f)&&b(t[f],n[f],e,r)););}return e.pop(),r.pop(),s};v.isEqual=function(t,n){return b(t,n,[],[])},v.isEmpty=function(t){if(null==t)return!0;if(v.isArray(t)||v.isString(t)||v.isArguments(t))return 0===t.length;for(var n in t)if(v.has(t,n))return!1;return!0},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===c.call(t)},v.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){v["is"+t]=function(n){return c.call(n)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,n){return null!=t&&f.call(t,n)},v.noConflict=function(){return t._=r,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return function(n){return n[t]}},v.matches=function(t){var n=v.pairs(t),e=n.length;return function(t){if(null==t)return!e;t=new Object(t);for(var r=0;r<e;r++){var i=n[r],o=i[0];if(i[1]!==t[o]||!(o in t))return!1}return!0}},v.times=function(t,n,e){var r=Array(Math.max(0,t));n=m(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r},v.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E=v.invert(T),A=function(t){var n=function(n){return t[n]},e="(?:"+v.keys(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};v.escape=A(T),v.unescape=A(E),v.result=function(t,n){if(null!=t){var e=t[n];return v.isFunction(e)?t[n]():e}};var S=0;v.uniqueId=function(t){var n=++S+"";return t?t+n:n},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,j=function(t){return"\\"+k[t]};v.template=function(t,n,e){!n&&e&&(n=e),n=v.defaults({},n,v.templateSettings);var r=RegExp([(n.escape||x).source,(n.interpolate||x).source,(n.evaluate||x).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(n,e,r,a,u){return o+=t.slice(i,u).replace(I,j),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(t){throw t.source=o,t}var u=function(t){return a.call(this,t,v)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},v.chain=function(t){var n=v(t);return n._chain=!0,n};var F=function(t){return this._chain?v(t).chain():t};v.mixin=function(t){v.each(v.functions(t),function(n){var e=v[n]=t[n];v.prototype[n]=function(){var t=[this._wrapped];return u.apply(t,arguments),F.call(this,e.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=i[t];v.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],F.call(this,e)}}),v.each(["concat","join","slice"],function(t){var n=i[t];v.prototype[t]=function(){return F.call(this,n.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}).call(this)},{}]},{},[1]);